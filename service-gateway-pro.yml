server:
  port: ${run_port}
  tomcat:
    max-threads: 128
    min-spare-threads: 64
eureka:
  client:
    service-url:
      defaultZone: ${eureka_url}
      registry-fetch-interval-seconds: 5
  instance:
    prefer-ip-address: true
zuul:
  routes:
      user:
          path: /api/user/**
          serviceId: provider-user
      order:
          path: /api/order/**
          serviceId: provider-order
      validatechannel:
          path: /api/validatechannel/**
          url: provider-validatechannel
      notify:
          path: /api/notify/**
          url: provider-notify
      public:
          path: /api/public/user/**
          serviceId: provider-user
          stripPrefix: false
      #hloauth:
          #path: /oauth/**
          #serviceId: security-oauth
          #stripPrefix: false
          #url: http://192.168.150.158:6001/oauth/token
  host:
    socket-timeout-millis: 60000
    connect-timeout-millis: 60000
    max-total-connections: 2000
    max-per-route-connections: 1000
  semaphore:
    max-semaphores: 2000
  retryable: true
  ignored-patterns: /**/private/api/**
security:
  oauth2:
    resource:
      user-info-uri: http://provider-oauth:6001/user
  ignored: /api/public/**
logging:
  level: debug
hystrix:
  threadpool:
    default:
      coreSize: 2000 #缺省为10
      maxQueueSize: 80
      queueSizeRejectionThreshold: 50
  command:
    default:
      execution:
        timeout:
          enabled: false
        isolation:
          thread:
            timeoutInMilliseconds: 60000
ribbon:
  ReadTimeout: 60000
  ConnectTimeout: 60000
  MaxAutoRetries: 0
  MaxAutoRetriesNextServer: 1
